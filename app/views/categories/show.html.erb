<% meta_tag("og_title", @post.title) %>
<% meta_tag("og_description", @post.meta_description) %>
<% meta_tag("og_url", request.url) %>
<% meta_tag("og_site_name", "buildd") %>
<% meta_tag("og_twitter_title", @post.title) %>
<% meta_tag("og_twitter_description", @post.meta_description) %>
<% meta_tag("og_image", @post.social_media_preview_image) %>
<% meta_tag("og_twitter_image", @post.social_media_preview_image) %>

<div class="mt-8 md:mx-32 mx-4">
<section class="blog-section md:flex flex-none md:space-x-8 mt-0 md:mt-4 mb-4 text-gray-700 body-font md:text-lg">

<div class="md:w-3/4 md:mx-auto bg-white border border-white rounded-lg md:pb-4 pb-2">
  <div class="mb-4 bg-gray-300 py-1 border border-gray-300 rounded-lg">
    <div class="border border-flamingo-800 rounded-lg bg-gradient-to-br from-purple-500 to-flamingo-800 md:px-16 px-4 transform -rotate-1">
      <h1 class="md:text-3xl text-xl text-center title-font font-bold text-white m-auto <% if @post.h2.present? %>pt-8 pb-2<% else %>py-12<% end %> leading-none tracking-tight px-4 transform rotate-1"><%= @post.h1 %></h1>
      <% if @post.h2.present? %>
      <h2 class="md:text-xl text-base text-gray-100 font-light text-center title-font m-auto pt-2 pb-8 leading-snug tracking-tight md:px-16 px-4 transform rotate-1"><%= @post.h2 %></h2>
      <% end %>
    </div>
  </div>
  <div class="blog-section-body md:px-16 px-4">
    <% if @post.content.present? %>
    <%= @post.content.html_safe %>
    <% end %>
  </div>
</div>

<div class="md:w-1/4 md:mx-auto mt-4 md:mt-0">
  
    <% if @related_articles.present? %>
    <div class="md:mb-8 mb-4 md:mx-2 mx-0 px-2 py-2 body-font md:text-base text-sm bg-white border border-white rounded-lg">
      <h3 class="text-center text-center mb-0 pb-2 font-normal text-gray-700 border-b-2 border-flamingo-800">Related Articles</h3>
      <div class="px-4 py-2">
        <% @related_articles.each_with_index do |article, index| %>
        <p><a href="<%= @related_articles_urls[index] %>" class="no-underline text-gray-700" target="_blank"><%= article %></a></p>
        <% end %>
      </div>
    </div>
    <% end %>
    <% if @top_articles.present? %>
    <div class="md:mb-8 mb-4 md:mx-2 mx-0 px-2 py-2 body-font md:text-base text-sm bg-white border border-white rounded-lg">
      <h3 class="text-center mb-0 pb-2 font-normal text-gray-700 border-b-2 border-flamingo-800">Top Articles</h3>
      <div class="px-4 py-2">
      <% @top_articles.each_with_index do |article, index| %>
      <p><a href="<%= @top_articles_urls[index] %>" class="no-underline text-gray-700" target="_blank"><%= article %></a></p>
      <% end %>
      </div>
    </div>
    <% end %>
  
  <% if @core_article.present? %>
  <% if @author.present? %>
  <div class="px-3 py-3 mx-2 mb-4 border border-white rounded-lg bg-white">
    <center>
    <p><img class="w-16 h-16 rounded-full border" src="<%= @core_article.author.pic %>"/></p>
    <p class="font-bold"><%= @author.name %></p>
    <p class="pt-0 text-base"><%= @author.bio %></p>
    <div class="text-center mb-2">
        <% if @author.website.present? %><a href="<%= @author.website %>" target="_blank" class="md:text-xl text-lg mx-2"><%= fa_icon "link" %></a><% end %>
        <% if @author.twitter.present? %><a href="<%= @author.twitter %>" target="_blank" class="md:text-xl text-lg mx-2"><%= fa_icon "twitter" %></a><% end %>
        <% if @author.linkedin.present? %><a href="<%= @author.linkedin %>" target="_blank" class="md:text-xl text-lg mx-2"><%= fa_icon "linkedin" %></a><% end %>
    </div>
    </center>
  </div>
  <% end %>
  <div class="sticky top-16">
    <div class="px-3 py-3 mx-2 border border-white rounded-lg bg-white">
      <center>
      <h3 class="font-normal text-gray-700">Contributed by</h3>
      <a href="/<%= @company.slug %>/community" class="no-underline text-gray-700 font-bold" target="_blank">
      <p><img class="w-16 h-16 rounded-full border" src="<%= @company.company_logo %>"/></p>
      <p><%= @company.company_name %><% if @company.company_twitter.present? %><a href="<%= @company.company_twitter %>" target="_blank" class="sm:text-xl text-lg mx-2"><%= fa_icon "twitter" %></a><% end %></p>
      </a>
      </center>
    </div>
    <div class="px-3 py-3 mt-4 mx-2 border border-white rounded-lg bg-white">
      <div class="text-center py-2 px-1">
          Get one new handcrafted piece of content each day
      </div>
      <%= form_with model: @newsletter_subscriber, url: create_newsletter_subscriber_path, local: true, class: "mt-2" do |f| %>
      <center>
      <div class="mb-2 px-1 max-w-screen-md">
      <div class="px-0 mb-2">
      <input name="newsletter_subscriber[name]" class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500" id="inline-full-name" type="text" placeholder="Name" required oninvalid="this.setCustomValidity('Enter your name here')" oninput="this.setCustomValidity('')">
      </div>
      <div class="px-0 mb-2">
      <input name="newsletter_subscriber[email]" class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500 required" id="inline-full-name" type="email" placeholder="Email" required oninvalid="this.setCustomValidity('Enter your email here')" oninput="this.setCustomValidity('')">
      </div>
      <div class="px-0">
      <button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-base leading-5 font-medium rounded-md text-white bg-flamingo-800 hover:bg-white hover:text-flamingo-800 hover:border-gray-700 transition duration-150 ease-in-out">Sign me up!</button>
      </div>
      </div>
      </center>
      <% end %>
    </div>
  </div>
  <% else %>
  <div class="sticky top-10 px-3 py-3 mx-2 border rounded bg-white">
    <div class="text-center py-2 px-1">
        Get one new handcrafted piece of content each day
    </div>
    <%= form_with model: @newsletter_subscriber, url: create_newsletter_subscriber_path, local: true, class: "mt-2" do |f| %>
    <center>
    <div class="mb-2 px-1 max-w-screen-md">
    <div class="px-0 mb-2">
    <input name="newsletter_subscriber[name]" class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500" id="inline-full-name" type="text" placeholder="Name" required oninvalid="this.setCustomValidity('Enter your name here')" oninput="this.setCustomValidity('')">
    </div>
    <div class="px-0 mb-2">
    <input name="newsletter_subscriber[email]" class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500 required" id="inline-full-name" type="email" placeholder="Email" required oninvalid="this.setCustomValidity('Enter your email here')" oninput="this.setCustomValidity('')">
    </div>
    <div class="px-0">
    <button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-base leading-5 font-medium rounded-md text-white bg-flamingo-800 hover:bg-white hover:text-flamingo-800 hover:border-gray-700 transition duration-150 ease-in-out">Sign me up!</button>
    </div>
    </div>
    </center>
    <% end %>
  </div>
  <% end %>
</div>
</section>
<br/><br/>
<% if @subscribe_popup.present? %>
<div class="modal fixed w-full h-full top-0 left-0 flex items-center justify-center">
    <div class="modal-overlay absolute w-full h-full bg-gray-900 opacity-50"></div>
    
    <div class="modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto">
      
      <div class="modal-close-show absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50">
        <svg class="fill-current text-white" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
          <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
        </svg>
        <span class="text-sm">(Esc)</span>
      </div>

      <!-- Add margin if you want to see some of the overlay behind the modal-->
      <div id="modal-content" class="modal-content py-4 text-left px-6">
        <!--Title-->
        <div class="flex justify-between items-center pb-3">
          <p class="text-2xl font-bold">Don't just dream. buildd your startup today.</p>
          <div class="modal-close-show cursor-pointer z-50">
            <svg class="fill-current text-black" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18">
              <path d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
            </svg>
          </div>
        </div>

        <!--Body-->
        <p>A new handcrafted piece of content each day.</p>
        <p>Startup analysis, tutorials lessons from our experience of bootstrapping our startup to $3M revenue.</p>

        <%= form_with model: @newsletter_subscriber, url: create_newsletter_subscriber_path, local: true, class: "mt-2" do |f| %>
        <center>
        <div class="md:flex mb-4">
            <div class="md:w-1/2 md:pr-2 w-full mt-2 md:mt-0">
            <input
                name="newsletter_subscriber[name]"
                class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500"
                id="inline-full-name"
                type="text"
                placeholder="Name"
                required="required"
                oninvalid="this.setCustomValidity('Enter your name here')"
                oninput="this.setCustomValidity('')">
            </div>
            <div class="md:w-1/2 md:pl-2 w-full mt-2 md:mt-0">
            <input
                name="newsletter_subscriber[email]"
                class="bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500 required"
                id="inline-full-name"
                type="email"
                placeholder="Email"
                required="required"
                oninvalid="this.setCustomValidity('Enter your email here')"
                oninput="this.setCustomValidity('')">
            </div>
        </div>
        <div class="md:w-full w-full pb-3">
            <button
                type="submit"
                class="group relative w-full flex justify-center py-2 px-4 border border-transparent md:text-xl text-lg leading-5 font-normal rounded-md text-white bg-flamingo-800 hover:bg-white hover:text-flamingo-800 hover:border-gray-700 transition duration-150 ease-in-out">I want to buildd</button>
        </div>
        </center>
        <% end %>
        <!--Footer-->
        <!--<div class="flex justify-end pt-2">
          <button class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2">Action</button>
          <button class="modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Close</button>
        </div>-->
        
      </div>
    </div>
</div>
<% end %>
</div>
