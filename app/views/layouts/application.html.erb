<!DOCTYPE html>
<html>
  <head>
    <title><%= @title.present? ? @title : "buildd startups by learning lessons from real entrepreneurs" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <meta name="description" content="<%= @meta_description.present? ? @meta_description : 'Your startup is unique. Design your own learning journey. We have you covered.' %>"/>
    <% if @meta_tags %>
      <% @meta_tags.each do |k,v| %>
        <meta name="<%= k %>" content="<%= v %>"/>
      <% end %>
    <% end %>
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    <% if @canonical_url.present? %>
      <link rel="canonical" href="<%= @canonical_url %>"/>
    <% end %>
    <meta property="og:title" content="<% if yield(:meta_og_title).present? %><%= yield(:meta_og_title) %><% else %>buildd startups by learning lessons from real entrepreneurs<% end %>">
    <meta property="og:description" content="<% if yield(:meta_og_description).present? %><%= yield(:meta_og_description) %><% else %>Your startup is unique. Design your own learning journey. We have you covered.<% end %>">
    <meta property="og:image" content="<% if yield(:meta_og_image).present? %><%= yield(:meta_og_image) %><% else %>https://buildd.s3.amazonaws.com/twitter_preview.png<% end %>">
    <meta property="og:url" content="<% if yield(:meta_og_url).present? %><%= yield(:meta_og_url) %><% else %>https://buildd.co<% end %>">
    <meta property="og:site_name" content="<% if yield(:meta_og_site_name).present? %><%= yield(:meta_og_site_name) %><% else %>buildd<% end %>">
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:title" content="<% if yield(:meta_og_twitter_title).present? %><%= yield(:meta_og_twitter_title) %><% else %>buildd<% end %>">
    <meta name="twitter:description" content="<% if yield(:meta_og_twitter_description).present? %><%= yield(:meta_og_twitter_description) %><% else %>buildd startups by learning lessons from real entrepreneurs<% end %>">
    <meta name="twitter:image" content="<% if yield(:meta_og_twitter_image).present? %><%= yield(:meta_og_twitter_image) %><% else %>https://buildd.s3.amazonaws.com/twitter_preview.png<% end %>">
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="192x192"  href="/icon.jpg">
    <link rel="icon" type="image/png" sizes="32x32" href="/icon.jpg">
    <link rel="icon" type="image/png" sizes="96x96" href="/icon.jpg">
    <link rel="icon" type="image/png" sizes="16x16" href="/icon.jpg">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-92DE5Y7J2F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());

      gtag('config', 'G-92DE5Y7J2F');
    </script>
    <script async="async" defer="defer" src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
    <noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt="" referrerpolicy="no-referrer-when-downgrade"/></noscript>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <%= stylesheet_link_tag "application" %>
  </head>
  <body>
    <%= render 'layouts/new_header' %>
    <% [ :error, :success, :notice ].each do |f| %>
      <% if flash[f].present? %>
        <div class="flash-<%= f %> mx-auto md:mt-4 mt-2 md:mx-32 mx-4">
          <%= image_tag("#{f}-icon.svg", :alt => "#{f}-icon") %>
          <div class="flash-text-container mt-0.5 mb-0.5">
            <div class="flash-<%= f %>-heading"> <%= f %> </div>
            <%= flash[f] %>
          </div>

        </div>
      <% end %>
    <% end %>
    <%= yield %>
    <%= render 'layouts/footer' %>
    <% if @curr_url.present? && @curr_url == "category_show" %>
      <div class="md:hidden">
        <%= render 'layouts/mobile_fixed_footer' %>
      </div>
    <% end %>
    <!-- Newsletter subscription floating button -->
    <div data-controller="subscribe-modal">
      <a href="#" data-action="click->subscribe-modal#open" class="fixed bottom-4 right-4 bg-primary rounded-full p-4 cursor-pointer z-50">
        <%= image_tag("email.svg", class:"w-8 h-8") %>
      </a>
      <!-- Modal Container -->
      <div data-subscribe-modal-target="container" data-action="click->subscribe-modal#closeBackground keyup@window->subscribe-modal#closeWithKeyboard" class="hidden animated fadeIn fixed inset-0 overflow-y-auto flex items-center justify-center" style="z-index: 9999;">
        <!-- Modal Inner Container -->
        <div class="max-h-screen w-full max-w-lg relative">
          <!-- Modal Card -->
          <div class="mx-6 md:m-1 bg-white rounded shadow">
            <div class="p-8 md:p-12">
              <h2 class="inline text-3xl md:text-4xl leading-9 md:leading-4">
                Subscribe to buildd, 
                <span class="text-xl md:text-2xl font-normal">start working on your startup</span>
              </h2>
              <p class="mt-4">Get one handcrafted article each day! know about startups, growth and our bootstrapped startup journey to $3M revenue.</p>
              <%= form_with model: @newsletter_subscriber, url: create_newsletter_subscriber_path, local: true, class: "mt-2" do |f| %>
                <%= f.label :name, "Full name", class: "block mt-4 mb-2" %>
                <%= f.text_field "newsletter_subscriber[name]", 
                class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500", 
                placeholder: "What should we call you?",
                required: true,
                oninvalid: "this.setCustomValidity('Enter your name here')", 
                oninput:"this.setCustomValidity('')" %>
                <%= f.label :email, "E-mail address", class: "block mt-4 mb-2" %>
                <%= f.email_field "newsletter_subscriber[email]", 
                class:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-azure-radiance-500", 
                placeholder: "visitor@gmail.com",
                required: true,
                oninvalid:"this.setCustomValidity('Enter your email here')", 
                oninput:"this.setCustomValidity('')" %>
                <%= f.submit "I want to buildd", class: "group relative w-full flex justify-center py-2 px-4 border border-transparent md:text-xl text-lg leading-5 font-normal rounded-md text-white bg-flamingo-800 hover:bg-white hover:text-flamingo-800 hover:border-gray-700 transition duration-150 ease-in-out mt-4" %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
